{"ast":null,"code":"import _slicedToArray from\"/Users/justinas/Documents/repos/microgogool/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from'react';import UIDContext from'src/UIDContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function MainRightScore(){var _useContext=useContext(UIDContext),UID=_useContext.UID,setUID=_useContext.setUID;var _useState=useState('noLessonsDone'),_useState2=_slicedToArray(_useState,2),finalScorePrcnt=_useState2[0],setFinalScorePrcnt=_useState2[1];useEffect(function(){var xhr=new XMLHttpRequest();xhr.open(\"POST\",'https://microgoogol.herokuapp.com/getUsersScore',true);xhr.setRequestHeader('Content-Type','application/json');xhr.send(JSON.stringify({UID:UID}));xhr.onload=function(){var parsedResponse=JSON.parse(xhr.responseText);if(parsedResponse.length!=0){var tempHolder=parsedResponse.reduce(function(previousValue,singleSectionsScore_current){return singleSectionsScore_current.sectionScore+previousValue;},0);setFinalScorePrcnt((tempHolder/parsedResponse.length).toString().slice(0,5));}else{setFinalScorePrcnt('');}};},[]);return/*#__PURE__*/_jsx(_Fragment,{children:finalScorePrcnt!='noLessonsDone'?/*#__PURE__*/_jsx(_Fragment,{children:finalScorePrcnt.length!=0?/*#__PURE__*/_jsxs(\"div\",{className:\"main-right-score\",children:[/*#__PURE__*/_jsx(\"img\",{src:require('../../Photos/world.png'),alt:\"world icon\",style:{width:'40%'}}),/*#__PURE__*/_jsxs(\"p\",{className:\"main-right-score-title\",\"data-testid\":\"main-right-score-title\",children:[\"You have gotten \",finalScorePrcnt,\"% of the questions right.\"]}),parseFloat(finalScorePrcnt)>50?/*#__PURE__*/_jsx(\"p\",{children:\"You got some knowledge!\"}):/*#__PURE__*/_jsx(\"p\",{children:\"You can do better..\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"main-right-score\",children:[/*#__PURE__*/_jsx(\"img\",{src:require('../../Photos/world.png'),alt:\"world icon\",style:{width:'60%'}}),/*#__PURE__*/_jsx(\"p\",{className:\"main-right-score-title\",\"data-testid\":\"main-right-score-title\",children:\"Your score\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Finish a lesson to see your score!\"})]})}):null});}export default MainRightScore;","map":{"version":3,"names":["React","useContext","useEffect","useState","UIDContext","MainRightScore","UID","setUID","finalScorePrcnt","setFinalScorePrcnt","xhr","XMLHttpRequest","open","setRequestHeader","send","JSON","stringify","onload","parsedResponse","parse","responseText","length","tempHolder","reduce","previousValue","singleSectionsScore_current","sectionScore","toString","slice","require","width","parseFloat"],"sources":["/Users/justinas/Documents/repos/microgogool/client/src/Components/ContentSecComponents/MainRightScore.tsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport UIDContext from 'src/UIDContext';\n\ninterface singleSectionsScore{\n    sectionScore: number,\n    badAnswersQnty: number,\n    goodAnswersQnty: number\n}\n\nfunction MainRightScore(){\n    const { UID, setUID } = useContext(UIDContext);\n\n    const [finalScorePrcnt, setFinalScorePrcnt] = useState<string>('noLessonsDone');\n\n    useEffect(()=>{\n        let xhr = new XMLHttpRequest();\n        xhr.open(\"POST\", 'https://microgoogol.herokuapp.com/getUsersScore', true);\n        xhr.setRequestHeader('Content-Type', 'application/json');\n        xhr.send(JSON.stringify({\n            UID: UID\n        }));\n\n        xhr.onload = ()=>{\n            const parsedResponse = JSON.parse(xhr.responseText);\n            if(parsedResponse.length!=0){\n                let tempHolder = parsedResponse.reduce((previousValue: number, singleSectionsScore_current: singleSectionsScore)=>singleSectionsScore_current.sectionScore + previousValue,\n                0\n                )\n                setFinalScorePrcnt((tempHolder/parsedResponse.length).toString().slice(0,5))\n            } else {\n                setFinalScorePrcnt('');\n            }\n        }\n    },[])\n\n    return (\n        <>\n        {finalScorePrcnt!='noLessonsDone' ? \n        \n        <>\n        {finalScorePrcnt.length!=0 ?\n        <div className='main-right-score'>\n            <img src={require('../../Photos/world.png')} alt='world icon' style={{width: '40%'}}></img>\n            <p className='main-right-score-title' data-testid='main-right-score-title'>You have gotten {finalScorePrcnt}% of the questions right.</p>\n            {parseFloat(finalScorePrcnt)>50 ? <p>You got some knowledge!</p> : <p>You can do better..</p>}\n        </div> \n        : \n        <div className='main-right-score'>\n            <img src={require('../../Photos/world.png')} alt='world icon' style={{width: '60%'}}></img>\n            <p className='main-right-score-title' data-testid='main-right-score-title'>Your score</p>\n            <p>Finish a lesson to see your score!</p>\n        </div>}\n        </>\n        \n        : null} \n        </>\n    );\n}\n\nexport default MainRightScore;"],"mappings":"wIAAA,MAAOA,MAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,MAAOC,WAAU,KAAM,gBAAgB,CAAC,6IAQxC,QAASC,eAAc,EAAE,CACrB,gBAAwBJ,UAAU,CAACG,UAAU,CAAC,CAAtCE,GAAG,aAAHA,GAAG,CAAEC,MAAM,aAANA,MAAM,CAEnB,cAA8CJ,QAAQ,CAAS,eAAe,CAAC,wCAAxEK,eAAe,eAAEC,kBAAkB,eAE1CP,SAAS,CAAC,UAAI,CACV,GAAIQ,IAAG,CAAG,GAAIC,eAAc,EAAE,CAC9BD,GAAG,CAACE,IAAI,CAAC,MAAM,CAAE,iDAAiD,CAAE,IAAI,CAAC,CACzEF,GAAG,CAACG,gBAAgB,CAAC,cAAc,CAAE,kBAAkB,CAAC,CACxDH,GAAG,CAACI,IAAI,CAACC,IAAI,CAACC,SAAS,CAAC,CACpBV,GAAG,CAAEA,GACT,CAAC,CAAC,CAAC,CAEHI,GAAG,CAACO,MAAM,CAAG,UAAI,CACb,GAAMC,eAAc,CAAGH,IAAI,CAACI,KAAK,CAACT,GAAG,CAACU,YAAY,CAAC,CACnD,GAAGF,cAAc,CAACG,MAAM,EAAE,CAAC,CAAC,CACxB,GAAIC,WAAU,CAAGJ,cAAc,CAACK,MAAM,CAAC,SAACC,aAAqB,CAAEC,2BAAgD,QAAGA,4BAA2B,CAACC,YAAY,CAAGF,aAAa,GAC1K,CAAC,CACA,CACDf,kBAAkB,CAAC,CAACa,UAAU,CAACJ,cAAc,CAACG,MAAM,EAAEM,QAAQ,EAAE,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAChF,CAAC,IAAM,CACHnB,kBAAkB,CAAC,EAAE,CAAC,CAC1B,CACJ,CAAC,CACL,CAAC,CAAC,EAAE,CAAC,CAEL,mBACI,yBACCD,eAAe,EAAE,eAAe,cAEjC,yBACCA,eAAe,CAACa,MAAM,EAAE,CAAC,cAC1B,aAAK,SAAS,CAAC,kBAAkB,wBAC7B,YAAK,GAAG,CAAEQ,OAAO,CAAC,wBAAwB,CAAE,CAAC,GAAG,CAAC,YAAY,CAAC,KAAK,CAAE,CAACC,KAAK,CAAE,KAAK,CAAE,EAAO,cAC3F,WAAG,SAAS,CAAC,wBAAwB,CAAC,cAAY,wBAAwB,8BAAkBtB,eAAe,+BAA8B,CACxIuB,UAAU,CAACvB,eAAe,CAAC,CAAC,EAAE,cAAG,8CAA8B,cAAG,0CAA0B,GAC3F,cAEN,aAAK,SAAS,CAAC,kBAAkB,wBAC7B,YAAK,GAAG,CAAEqB,OAAO,CAAC,wBAAwB,CAAE,CAAC,GAAG,CAAC,YAAY,CAAC,KAAK,CAAE,CAACC,KAAK,CAAE,KAAK,CAAE,EAAO,cAC3F,UAAG,SAAS,CAAC,wBAAwB,CAAC,cAAY,wBAAwB,wBAAe,cACzF,yDAAyC,GACvC,EACH,CAED,IAAI,EACH,CAEX,CAEA,cAAezB,eAAc"},"metadata":{},"sourceType":"module"}